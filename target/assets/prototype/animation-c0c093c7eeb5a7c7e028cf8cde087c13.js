YAHOO.util.Anim=function(a,c,d,b){a&&this.init(a,c,d,b)};
YAHOO.util.Anim.prototype={doMethod:function(a,c,d){return this.method(this.currentFrame,c,d-c,this.totalFrames)},setAttribute:function(a,c,d){YAHOO.util.Dom.setStyle(this.getEl(),a,c+d)},getAttribute:function(a){return parseFloat(YAHOO.util.Dom.getStyle(this.getEl(),a))},defaultUnit:"px",defaultUnits:{opacity:" "},init:function(a,c,d,b){var e=!1,f=null,g=null,h=0,k={};a=YAHOO.util.Dom.get(a);this.attributes=c||{};this.duration=d||1;this.method=b||YAHOO.util.Easing.easeNone;this.useSeconds=!0;this.currentFrame=
0;this.totalFrames=YAHOO.util.AnimMgr.fps;this.getEl=function(){return a};this.setDefault=function(c,b){if(b.constructor!=Array&&("auto"==b||isNaN(b)))switch(c){case "width":b=a.clientWidth||a.offsetWidth;break;case "height":b=a.clientHeight||a.offsetHeight;break;case "left":b="absolute"==YAHOO.util.Dom.getStyle(a,"position")?a.offsetLeft:0;break;case "top":b="absolute"==YAHOO.util.Dom.getStyle(a,"position")?a.offsetTop:0;break;default:b=0}k[c]=b};this.getDefault=function(a){return k[a]};this.isAnimated=
function(){return e};this.getStartTime=function(){return f};this.animate=function(){if(this.isAnimated())return!1;this.onStart.fire();this._onStart.fire();this.totalFrames=this.useSeconds?Math.ceil(YAHOO.util.AnimMgr.fps*this.duration):this.duration;YAHOO.util.AnimMgr.registerElement(this);var a=this.attributes;this.getEl();for(var b in a)a=this.getAttribute(b),this.setDefault(b,a);e=!0;h=0;f=new Date};this.stop=function(){if(!this.isAnimated())return!1;this.currentFrame=0;g=new Date;var a={time:g,
duration:g-f,frames:h,fps:h/this.duration};e=!1;h=0;this.onComplete.fire(a)};this._onStart=new YAHOO.util.CustomEvent("_onStart",this);this.onStart=new YAHOO.util.CustomEvent("start",this);this.onTween=new YAHOO.util.CustomEvent("tween",this);this._onTween=new YAHOO.util.CustomEvent("_tween",this);this.onComplete=new YAHOO.util.CustomEvent("complete",this);this._onTween.subscribe(function(){var a,b=null,c,d=this.attributes,e;for(e in d){c=d[e].unit||this.defaultUnits[e]||this.defaultUnit;a="undefined"!=
typeof d[e].from?d[e].from:this.getDefault(e);if("undefined"!=typeof d[e].to)b=d[e].to;else if("undefined"!=typeof d[e].by)if(a.constructor==Array)for(var b=[],k=0,f=a.length;k<f;++k)b[k]=a[k]+d[e].by[k];else b=a+d[e].by;null!==b&&"undefined"!=typeof b&&(a=this.doMethod(e,a,b),("width"==e||"height"==e||"opacity"==e)&&0>a&&(a=0),this.setAttribute(e,a,c))}h+=1})}};
YAHOO.util.AnimMgr=new function(){var a=null,c=[],d=0;this.fps=200;this.delay=1;this.registerElement=function(a){if(a.isAnimated())return!1;c[c.length]=a;d+=1;this.start()};this.start=function(){null===a&&(a=setInterval(this.run,this.delay))};this.stop=function(b){if(b)b.stop(),--d,0>=d&&this.stop();else{clearInterval(a);b=0;for(var e=c.length;b<e;++b)c[b].isAnimated()&&c[b].stop();c=[];a=null;d=0}};this.run=function(){for(var a=0,d=c.length;a<d;++a){var f=c[a];if(f&&f.isAnimated())if(f.currentFrame<
f.totalFrames||null===f.totalFrames){f.currentFrame+=1;if(f.useSeconds){var g=f,h=g.totalFrames,k=g.currentFrame,n=g.currentFrame*g.duration*1E3/g.totalFrames,m=new Date-g.getStartTime(),l=0,l=m<1E3*g.duration?Math.round((m/n-1)*g.currentFrame):h-(k+1);0<l&&isFinite(l)&&(g.currentFrame+l>=h&&(l=h-(k+1)),g.currentFrame+=l)}f.onTween.fire();f._onTween.fire()}else YAHOO.util.AnimMgr.stop(f)}}};
YAHOO.util.Bezier=new function(){this.getPosition=function(a,c){for(var d=a.length,b=[],e=0;e<d;++e)b[e]=[a[e][0],a[e][1]];for(var f=1;f<d;++f)for(e=0;e<d-f;++e)b[e][0]=(1-c)*b[e][0]+c*b[parseInt(e+1,10)][0],b[e][1]=(1-c)*b[e][1]+c*b[parseInt(e+1,10)][1];return[b[0][0],b[0][1]]}};
YAHOO.util.Easing=new function(){this.easeNone=function(a,c,d,b){return c+a/b*d};this.easeIn=function(a,c,d,b){return c+d*(a/=b)*a*a};this.easeOut=function(a,c,d,b){b=(a/=b)*a;return c+d*(b*a+-3*b+3*a)};this.easeBoth=function(a,c,d,b){b=(a/=b)*a;return c+d*(-2*b*a+3*b)};this.backIn=function(a,c,d,b){b=(a/=b)*a;a*=b;return c+d*(-3.4005*a*b+10.2*b*b+-6.2*a+.4*b)};this.backOut=function(a,c,d,b){b=(a/=b)*a;var e=b*a;return c+d*(8.292*e*b+-21.88*b*b+22.08*e+-12.69*b+5.1975*a)};this.backBoth=function(a,
c,d,b){b=(a/=b)*a;var e=b*a;return c+d*(.402*e*b+-2.1525*b*b+-3.2*e+8*b+-2.05*a)}};YAHOO.util.Motion=function(a,c,d,b){a&&this.initMotion(a,c,d,b)};YAHOO.util.Motion.prototype=new YAHOO.util.Anim;YAHOO.util.Motion.prototype.defaultUnits.points="px";
YAHOO.util.Motion.prototype.doMethod=function(a,c,d){var b=null;"points"==a?(a=this.getTranslatedPoints(),c=this.method(this.currentFrame,0,100,this.totalFrames)/100,a&&(b=YAHOO.util.Bezier.getPosition(a,c))):b=this.method(this.currentFrame,c,d-c,this.totalFrames);return b};
YAHOO.util.Motion.prototype.getAttribute=function(a){var c=null;"points"==a?(c=[this.getAttribute("left"),this.getAttribute("top")],isNaN(c[0])&&(c[0]=0),isNaN(c[1])&&(c[1]=0)):c=parseFloat(YAHOO.util.Dom.getStyle(this.getEl(),a));return c};YAHOO.util.Motion.prototype.setAttribute=function(a,c,d){"points"==a?(YAHOO.util.Dom.setStyle(this.getEl(),"left",c[0]+d),YAHOO.util.Dom.setStyle(this.getEl(),"top",c[1]+d)):YAHOO.util.Dom.setStyle(this.getEl(),a,c+d)};
YAHOO.util.Motion.prototype.initMotion=function(a,c,d,b){YAHOO.util.Anim.call(this,a,c,d,b);c=c||{};c.points=c.points||{};c.points.control=c.points.control||[];this.attributes=c;var e,f=null,g=null;this.getTranslatedPoints=function(){return g};var h=function(a,b){var c=YAHOO.util.Dom.getXY(b.getEl());return a=[a[0]-c[0]+e[0],a[1]-c[1]+e[1]]};this._onStart.subscribe(function(){e=this.getAttribute("points");var a=this.attributes,b=a.points.control||[];0<b.length&&b[0].constructor!=Array&&(b=[b]);"static"==
YAHOO.util.Dom.getStyle(this.getEl(),"position")&&YAHOO.util.Dom.setStyle(this.getEl(),"position","relative");if("undefined"!=typeof a.points.from)YAHOO.util.Dom.setXY(this.getEl(),a.points.from),e=this.getAttribute("points");else if(0===e[0]||0===e[1])YAHOO.util.Dom.setXY(this.getEl(),YAHOO.util.Dom.getXY(this.getEl())),e=this.getAttribute("points");var c;if("undefined"!=typeof a.points.to)for(f=h(a.points.to,this),a=0,c=b.length;a<c;++a)b[a]=h(b[a],this);else if("undefined"!=typeof a.points.by)for(f=
[e[0]+a.points.by[0],e[1]+a.points.by[1]],a=0,c=b.length;a<c;++a)b[a]=[e[0]+b[a][0],e[1]+b[a][1]];f&&(g=[e],0<b.length&&(g=g.concat(b)),g[g.length]=f)})};YAHOO.util.Scroll=function(a,c,d,b){a&&YAHOO.util.Anim.call(this,a,c,d,b)};YAHOO.util.Scroll.prototype=new YAHOO.util.Anim;YAHOO.util.Scroll.prototype.defaultUnits.scroll=" ";
YAHOO.util.Scroll.prototype.doMethod=function(a,c,d){var b=null;return b="scroll"==a?[this.method(this.currentFrame,c[0],d[0]-c[0],this.totalFrames),this.method(this.currentFrame,c[1],d[1]-c[1],this.totalFrames)]:this.method(this.currentFrame,c,d-c,this.totalFrames)};YAHOO.util.Scroll.prototype.getAttribute=function(a){var c=null,c=this.getEl();return c="scroll"==a?[c.scrollLeft,c.scrollTop]:parseFloat(YAHOO.util.Dom.getStyle(c,a))};
YAHOO.util.Scroll.prototype.setAttribute=function(a,c,d){var b=this.getEl();"scroll"==a?(b.scrollLeft=c[0],b.scrollTop=c[1]):YAHOO.util.Dom.setStyle(b,a,c+d)};